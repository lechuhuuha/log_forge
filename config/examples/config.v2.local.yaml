version: 2
server:
  addr: ":8083"
storage:
  logsDir: "./logs"
  analyticsDir: "./analytics"
aggregation:
  interval: 30s
ingestion:
  queueBufferSize: 100000
  producerWorkers: 48
  producerWriteTimeout: 5s
  queueHighWaterPercent: 0.98
  syncOnIngest: true
consumer:
  flushSize: 4096
  flushInterval: 100ms
  persistTimeout: 5s
kafka:
  brokers:
    - localhost:19092
  topic: logs
  groupID: logs-consumer-group
  batchSize: 5000
  batchTimeout: 5ms
  batchBytes: 2000000
  compression: none
  async: false
  # use enough consumers to cover partitions and keep up with bursts
  consumers: 12
  requireAllAcks: true
